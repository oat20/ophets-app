<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SCREEN@1</title>
    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container">
    
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-6 col-md-offset-3">
                <h1 class="text-center">Select Package</h1>
                <hr>
                <form>
                    <div class="form-group">
                        <label>Customer Name</label>
                        <input type="text" class="form-control">
                    </div>
    
                    <div class="form-group">
                        <label>Company Name</label>
                        <input type="text" class="form-control">
                    </div>
    
                    <div class="form-group">
                        <label>Mobile Phone</label>
                        <input type="tel" class="form-control">
                    </div>
    
                    <div class="form-group" id="checkPackage">
                        <label>Package</label>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" data-toggle="radio" value="" data-price2="100" name="subscribe">
                                Package 1 (100 Baht)
                            </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" data-toggle="radio" value="" name="subscribe" data-price2="200">
                                Package 2 (200 Baht)
                            </label>
                        </div>
                        <div class="checkbox">
                            <label class="checkbox">
                                <input type="checkbox" data-toggle="radio" value="" name="subscribe" data-price2="300">
                                Package 3 (300 Baht)
                            </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" data-toggle="radio" value="" name="subscribe" data-price2="400">
                                Package 4 (400 Baht)
                            </label>
                        </div>
                        <div class="checkbox">
                            <label>
                                <input type="checkbox" data-toggle="radio" value="" name="subscribe" data-price2="500">
                                Package 5 (500 Baht)
                            </label>
                        </div>
                    </div>
    
                    <div class="form-group">
                        <label>Total Amount</label>
                        <p class="form-control-static" id="sumpackage">0 Baht</p>
                    </div>
                    <button type="button" class="btn btn-primary btn-block">Calculate</button>
                </form>
            </div>
            <!-- col -->
        </div>
        <!-- row -->
    
    </div>
    <!-- con -->
    
    <script src="../node_modules/jquery/dist/jquery.min.js"></script>
    <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="../node_modules/sweetalert2/dist/sweetalert2.all.min.js"></script>
    <script>
        $(document).ready(function () {

            $('input[name="subscribe"]').change(function () {
                var receiptNos2 = $('input[name="subscribe"]:checked').map(function () {
                    return $(this).data('price2');
                }).get();
                console.log(receiptNos2);

                var alertCount = $('#checkPackage [name="subscribe"]:checked').length;
                console.log(alertCount);

                const sum = receiptNos2.reduce((partialSum, a) => partialSum + a, 0);
                console.log(Intl.NumberFormat().format(sum));

                $('#sumpackage').html(Intl.NumberFormat().format(sum) + ' Baht');
            });

            $('button').click(function () {
                var sum2 = $('#sumpackage').html();
                Swal.fire({
                    icon: 'success',
                    title: sum2,
                    text: 'Confirm Payment',
                    showCancelButton: true,
                    confirmButtonText: 'OK',
                }).then((result) => {
                    /* Read more about isConfirmed, isDenied below */
                    console.log(result);
                    if (result.isConfirmed) {
                        //Swal.fire('Saved!', '', 'success')
                        location.href = "./screen2.html";
                    }
                });
            });

        });
    </script>
</body>
</html>